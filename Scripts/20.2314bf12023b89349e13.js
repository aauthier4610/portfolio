(function(){var an=document&&document.currentScript&&document.currentScript.src;(window.webpackJsonpruntime=window.webpackJsonpruntime||[]).push([[20],{"6TzK":function(cn,W,t){"use strict";t.r(W),t.d(W,"sendPerformanceMetrics",function(){return ln});var L=t("yXPU"),c=t.n(L),R=t("e0ae"),M=t("fKJ5"),V=t.n(M),F=t("O/PN"),H=t.n(F),G=t("DNwz"),w=t.n(G),J=t("Bscj"),A=t.n(J),a=t("ONNR"),j=t("HFo2"),z=t.n(j),K=t("cAVG"),x=t.n(K);const X="unknown",f=n=>z()(n)?X:n;function $({device:n=null,connectionType:e=null,connectionSpeed:r=null,viewportWidth:o=null,viewportHeight:l=null,hasCriticalCss:g=null,hasCustomWidgets:v=null,browserName:h=null,browserVersion:p=null,os:y=null,firstVisit:T=null,pageUuid:P=null,serviceWorkerRunning:N=null,siteAlias:O=null,host:S=null,path:E=null,vital:{name:u=null,delta:s=null}}){return{device:n,connectionType:f(e),connectionSpeed:f(r),viewportWidth:o,viewportHeight:l,hasCriticalCss:g,hasCustomWidgets:v,browserName:h,browserVersion:p,os:y,firstVisit:T,pageUuid:P,serviceWorkerRunning:N,siteAlias:O,host:f(S),path:E,[u==null?void 0:u.toLowerCase()]:x()(s)?1e-6:s}}function Q({vital:n}){return{type:"WEBVITAL",data:n}}var Y=t("pRvV"),Z=t.n(Y),b=t("duPW"),B=t.n(b),d=t("zq3N");const k=15;function q({apiUrl:n=d.a.get("runtimecollector.url")}={}){return function(){var e=c()(function*(r){if(!n)throw new Error("Missing endpoint for runtimecollector");return yield fetch(`${n}/performance/metrics`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(r)}).catch(o=>{d.c.warn({message:"Error while trying to report Vitals to BI",error:A()(o)?o.toString():JSON.stringify(o),siteAlias:B()("siteAlias",r),pageUrl:B()("_currentPage.pageUrl",window)})})});return function(r){return e.apply(this,arguments)}}()}function _(){return Z()(n=>Promise.resolve().then(()=>d.c.info(n)),k)}const C=w()(null),i=n=>C(n,window),U=n=>!!document.querySelector(n),nn=n=>{const e=H()(n);return A()(e)?null:e},tn=q(),en=_(),rn=150,D=(...n)=>e=>n.reduce((r,o)=>r.then((...l)=>Promise.resolve().then(o.bind(null,...l))),Promise.resolve(e)),on=({name:n,value:e})=>n==="INP"&&e>=Number(w()(rn,'rtCommonProps["feature.flag.runtime.inp.threshold"]',window)),sn=function(){var n=c()(function*(){const e=i("_currentDevice"),r=i("navigator.connection.type"),o=i("navigator.connection.effectiveType"),l=i("Parameters.SiteAlias"),g=i("window.location.host"),v=i("location.pathname"),h=U("#criticalCss"),p=U('[data-element-type="custom_extension"]'),y=i("innerWidth"),T=i("innerHeight"),P=["_currentPage.pageContent.uuid","Parameters.InitialPageUuid","_currentPage.pageID"].map(s=>C(s,window)).filter(Boolean).at(0),{name:N=null,version:O=null,os:S=null}=Object(R.a)(),[E,u]=yield c()(function*(){const s=yield nn(()=>navigator.serviceWorker.getRegistration("/"));return[!(s!=null&&s.active),!!s]})();return{device:e,connectionType:r,connectionSpeed:o,viewportWidth:y,viewportHeight:T,hasCriticalCss:h,hasCustomWidgets:p,browserName:N,browserVersion:O,os:S,firstVisit:E,serviceWorkerRunning:u,pageUuid:P,siteAlias:l,host:g,path:v}});return function(){return n.apply(this,arguments)}}(),I=function(n){return sn().then(V()({vital:n}))};function ln(){return m.apply(this,arguments)}function m(){return m=c()(function*({sendLog:n=!0}={}){const e=[D(I,$,tn),function(){var r=c()(function*(o){if(n&&on(o))return D(I,Q,en)(o)});return function(o){return r.apply(this,arguments)}}()].filter(Boolean);[a.a,a.f,r=>Object(a.d)(r,{durationThreshold:0,reportAllChanges:!0}),a.c,a.e,a.b].forEach(r=>r(o=>{Promise.all(e.map(l=>l(o).catch(console.warn)))}))}),m.apply(this,arguments)}}}])})();
